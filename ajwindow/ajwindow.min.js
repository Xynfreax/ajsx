$$.require(["ajwindow_e"],function(){$.add={tag:"ajwindow_e",id:"ajwindow",opened:false,customProps:{__content:{set:function(v){this.mycontent.children=v},configurable:true},showTitleBar:{set:function(v){if(v==false)this.mytitlebar.display="none"},configurable:true},showCloseIcon:{set:function(v){if(v==false)this.mytitlebar.myclose.display="none"},configurable:true}},afterShow:function(){function $jscomp$async$generator(){var $jscomp$generator$state=0;function $jscomp$generator$impl($jscomp$generator$next$arg,
$jscomp$generator$throw$arg){while(1)switch($jscomp$generator$state){case 0:$jscomp$generator$state=-1;return{value:true,done:true};$jscomp$generator$state=-1;default:return{value:undefined,done:true}}}var iterator=({next:function(arg){return $jscomp$generator$impl(arg,undefined)},throw:function(arg){return $jscomp$generator$impl(undefined,arg)},return:function(arg){throw Error("Not yet implemented");}});$jscomp.initSymbolIterator();iterator[Symbol.iterator]=function(){return this};return iterator}
return $jscomp.executeAsyncGenerator($jscomp$async$generator())},submit:function(params){var newButton=$f.instanciar({tag:"button",type:"submit",visibility:"hidden",position:"absolute",width:"0px",height:"0px"});this.mycontent.addChild_r(newButton);var allPass=this.mycontent.dom.querySelectorAll("input[type='password']");if(params&&params.askforsavepassword===false)if(allPass)for(var i=0;i<allPass.length;i++){allPass[i].type="text";allPass[i].style.opacity=0}newButton.dom.click();for(var i=0;i<allPass.length;i++){allPass[i].type=
"password";allPass[i].style.opacity=1}newButton.delete()},addEventsOwn:function(){var th=this;th.mytitlebar.myclose.events=[["click",function(){th.close()}]];th.mytitlebar.events=[["mousedown",function(e){console.log("Y: "+e.clientY);console.log("rectTop: "+th.dom.getBoundingClientRect().top);console.log("offsettop: "+th.dom.offsetTop);console.log("Y+rect: "+(parseInt(e.clientY)-parseInt(th.dom.getBoundingClientRect().top)+th.dom.offsetTop));var leftDist=parseInt(e.clientX)-parseInt(th.dom.getBoundingClientRect().left)+
th.dom.offsetLeft;var topDist=parseInt(e.clientY)-parseInt(th.dom.getBoundingClientRect().top)+th.dom.offsetTop;if(th.parent!==undefined&&th.parent.real_tag=="form"&&(th.parent.parent!==undefined&&th.parent.parent.real_tag=="dialog")&&(th.position=="absolute"||th.position=="fixed")&&th.parent.parent.onDown==true)th.parent.parent.startMoving(th,leftDist,topDist);else;},true]];th.mycontent.events=[["mousedown",function(e){th.onDown=true},true],["mouseup",function(e){if(get_type(th.listenerMoving)==
4){th.mycontent.dom.removeEventListener("mousemove",th.listenerMoving,false);th.onDown=false}else;},true],["mouseleave",function(e){},true]];th.events=[["submit",function(e){e.preventDefault();e.stopPropagation()},false],["close",function(e){e.preventDefault();e.stopPropagation();th.close()}]]},startMoving:function(Ao,leftDist,topDist){var th=this;this.listenerMoving=function(e){console.log(e.clientY-this.dom.offsetTop);console.log(topDist);Ao.transform="none";Ao.transform="translate("+(e.clientX-
leftDist-this.dom.offsetLeft)+"px,"+(e.clientY-topDist-this.dom.offsetTop)+"px)"};this.listenerMoving=this.listenerMoving.bind(this.mycontent);this.mycontent.dom.addEventListener("mousemove",this.listenerMoving,false)},close:function(){console.log("====CLOSING");var th=this;var majorcontainer=$[document.body.children[0].children[0].id];var tempoverflow=majorcontainer.dom.style.overflowX;var tempprop=majorcontainer.getCS("borderBottomWidth");var propiedad="borderBottomWidth";majorcontainer.dom.style[propiedad]=
parseInt(tempprop)+1+"px";setTimeout(function(){majorcontainer.dom[propiedad]=tempprop},0);var backdrop_=th.dom.nextSibling;if(backdrop_&&backdrop_.classList.contains("backdrop"))th.dom.close();th.delete();if(th.resDialog)th.resDialog();if(th.afterClose)th.afterClose.bind(th)();return true},loadContent:function(){if(get_type(this.content)==1){this.mycontent.emptyChildren();for(var i=0;i<this.content.length;i++)this.mycontent.addChild_r($f.instanciar(this.content[i]))}},preinit:function(){var th=this;
this.classList.remove("unseen");dialogPolyfill.registerDialog(this.dom);if(__isUnitTest!=="")if(this.modal==true);else this.show().catch(function(rej){});else if(this.modal!==true)this.show()},init:function(){var th=this;this.addEventsOwn()},load_r:function(){},setAutofocus:function(){var th=this;var dautofocus=th.dom.querySelector("input[autofocus]");if(!dautofocus)dautofocus=th.dom.querySelector("button[autofocus]");if(dautofocus)dautofocus.focus()},odps:{},settearPermisos:function(data){var $jscomp$async$this=
this;function $jscomp$async$generator(){var $jscomp$generator$state=0;var processes;var th;function $jscomp$generator$impl($jscomp$generator$next$arg,$jscomp$generator$throw$arg){while(1)switch($jscomp$generator$state){case 0:th=$jscomp$async$this;if(!data){$jscomp$generator$state=1;break}processes=data.processes;for(var k in th.odps){var actItem=th.odps[k];if(processes[k]==undefined)for(var i=0;i<actItem.length;i++)actItem[i].display="none"}if(get_type(th.settear)==4||get_type(th.settear)==10)th.settear(resp);
$jscomp$generator$state=-1;return{value:true,done:true};case 1:$jscomp$generator$state=-1;default:return{value:undefined,done:true}}}var iterator=({next:function(arg){return $jscomp$generator$impl(arg,undefined)},throw:function(arg){return $jscomp$generator$impl(undefined,arg)},return:function(arg){throw Error("Not yet implemented");}});$jscomp.initSymbolIterator();iterator[Symbol.iterator]=function(){return this};return iterator}return $jscomp.executeAsyncGenerator($jscomp$async$generator())},show:function(){var $jscomp$async$this=
this;function $jscomp$async$generator(){var $jscomp$generator$state=0;var $jscomp$generator$next$arg0;var resp;var th;function $jscomp$generator$impl($jscomp$generator$next$arg,$jscomp$generator$throw$arg){while(1)switch($jscomp$generator$state){case 0:$jscomp$async$this.opacity=1;$jscomp$async$this.dom.show();th=$jscomp$async$this;resp={};$jscomp$async$this.visibility="visible";if(!!$jscomp$async$this.inlogin){$jscomp$generator$state=1;break}$jscomp$generator$state=2;return{value:$_.query("listaPermisosxusuario"),
done:false};case 2:if(!($jscomp$generator$throw$arg!==undefined)){$jscomp$generator$state=3;break}$jscomp$generator$state=-1;throw $jscomp$generator$throw$arg;case 3:$jscomp$generator$next$arg0=$jscomp$generator$next$arg;resp=$jscomp$generator$next$arg0;th.USUARIO_ACTUAL=resp;resp=resp;case 1:$jscomp$async$this.opened=true;$jscomp$async$this.loadContent();$jscomp$async$this.opacity=1;if(!(get_type($jscomp$async$this.afterShow)==4||get_type($jscomp$async$this.afterShow)==10)){$jscomp$generator$state=
4;break}$jscomp$async$this.settearPermisos(resp);th.mycontent.opacity=1;$jscomp$async$this.setAutofocus();$jscomp$generator$state=5;return{value:$jscomp$async$this.afterShow(),done:false};case 5:if(!($jscomp$generator$throw$arg!==undefined)){$jscomp$generator$state=6;break}$jscomp$generator$state=-1;throw $jscomp$generator$throw$arg;case 6:case 4:$jscomp$generator$state=-1;default:return{value:undefined,done:true}}}var iterator=({next:function(arg){return $jscomp$generator$impl(arg,undefined)},throw:function(arg){return $jscomp$generator$impl(undefined,
arg)},return:function(arg){throw Error("Not yet implemented");}});$jscomp.initSymbolIterator();iterator[Symbol.iterator]=function(){return this};return iterator}return $jscomp.executeAsyncGenerator($jscomp$async$generator())},showModal:function(dest_){var $jscomp$async$this=this;function $jscomp$async$generator(){var $jscomp$generator$state=0;var $jscomp$generator$next$arg1;var resp;var th;function $jscomp$generator$impl($jscomp$generator$next$arg,$jscomp$generator$throw$arg){while(1)switch($jscomp$generator$state){case 0:th=
$jscomp$async$this;th.classList.add("modal");$jscomp$async$this.position="fixed";$jscomp$async$this.top="50%";$jscomp$async$this.dom.showModal();$jscomp$async$this.visibility="visible";$jscomp$async$this.opacity=1;$jscomp$async$this.opened=true;$jscomp$async$this.loadContent();$jscomp$async$this.maxHeight="95%";resp={};if(!!$jscomp$async$this.inlogin){$jscomp$generator$state=1;break}$jscomp$generator$state=2;return{value:$_.query("listaPermisosxusuario"),done:false};case 2:if(!($jscomp$generator$throw$arg!==
undefined)){$jscomp$generator$state=3;break}$jscomp$generator$state=-1;throw $jscomp$generator$throw$arg;case 3:$jscomp$generator$next$arg1=$jscomp$generator$next$arg;resp=$jscomp$generator$next$arg1;th.USUARIO_ACTUAL=resp.data;case 1:if(!(get_type($jscomp$async$this.afterShow)==4||get_type($jscomp$async$this.afterShow)==10)){$jscomp$generator$state=4;break}$jscomp$async$this.setAutofocus();$jscomp$async$this.settearPermisos(resp);$jscomp$generator$state=5;return{value:$jscomp$async$this.afterShow(),
done:false};case 5:if(!($jscomp$generator$throw$arg!==undefined)){$jscomp$generator$state=6;break}$jscomp$generator$state=-1;throw $jscomp$generator$throw$arg;case 6:th.mycontent.opacity=1;case 4:$jscomp$generator$state=7;return{value:new Promise(function(res,rej){th.resDialog=res}),done:false};case 7:if(!($jscomp$generator$throw$arg!==undefined)){$jscomp$generator$state=8;break}$jscomp$generator$state=-1;throw $jscomp$generator$throw$arg;case 8:$jscomp$generator$state=-1;return{value:true,done:true};
$jscomp$generator$state=-1;default:return{value:undefined,done:true}}}var iterator=({next:function(arg){return $jscomp$generator$impl(arg,undefined)},throw:function(arg){return $jscomp$generator$impl(undefined,arg)},return:function(arg){throw Error("Not yet implemented");}});$jscomp.initSymbolIterator();iterator[Symbol.iterator]=function(){return this};return iterator}return $jscomp.executeAsyncGenerator($jscomp$async$generator())},visibility:"hidden"}});
